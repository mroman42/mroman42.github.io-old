<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Aprendiendo Emacs - Mario Román</title>
    <meta charset="utf-8" />
    <meta name="author" content="Mario Román" />
    <meta name="description" content="Un conjunto de enlaces de introducción a Emacs" />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="/media/css/main.css" type="text/css">
    <link rel="stylesheet" href="/media/css/prettify.css" type="text/css">
  </head>
  <body class="container">
    <div>
      <header class="masthead">
        <h1 class="masthead-title"><a href="/">Mario Román</a></h1>
        <p>M42 - mromang08@gmail.com</p>
        <ul>
          <li><a href="/blog/">Blog</a></li>
          <li><a href="/tags/">Tags</a></li>
          <li><a href="/about/">About</a></li>
          <li><a href="https://github.com/m42">GitHub</a></li>
          <li><a href="/rss.xml">RSS</a></li>
        </ul>
        <form method="get" id="searchform" action="//www.google.com/search">
          <input type="text" class="field" name="q" id="s" placeholder="Search">
          <input type="hidden" name="as_sitesearch" value="m42.github.io">
        </form>
      </header>
    </div>

<div>
<div class="post">
<h1>Aprendiendo Emacs</h1>

<div id="outline-container-org2ec059d" class="outline-2">
<h2 id="org2ec059d">Emacs</h2>
<div class="outline-text-2" id="text-org2ec059d">
<p>
<b><a href="https://www.gnu.org/software/emacs/">Emacs</a></b> es un editor de texto construido sobre un intérprete del lenguaje
<b><a href="https://es.wikipedia.org/wiki/Emacs_Lisp">Elisp</a></b> para hacerlo
extensible. Cada acción del editor constituye un comando sobre el
intérprete, por lo que podemos reescribir sus comandos o crear nuevos
comandos simplemente programando sobre el intérprete.
</p>

<p>
<img src="https://github.com/libreim/blog/raw/post-emacs/images/emacs.png" alt="emacs.png" />
<i>Emacs editando este mismo artículo en Markdown</i>
</p>

<p>
Emacs sirve como IDE para la mayoría de lenguajes de programación y como
editor para programación literaria y ciencia reproducible; se integra
con git y con el sistema de archivos y tiene extensiones disponibles
para usarse como aplicación para organizar listas de tareas, leer el
correo o servir como hoja de cálculo.
</p>

<blockquote>
<p>
I use Emacs, which might be thought of as a thermonuclear word
processor.
</p>

<p>
-- <b>Neal Stephenson</b>, <i>In the Beginning... was the command line.</i>
</p>
</blockquote>

<p>
En este artículo haré una referencia breve a todo lo que me ha ido
sirviendo para aprender Emacs mientras enlazo a fuentes que tratan cada
uno de los temas más extensamente. Como recursos generales para aprender
Emacs, puedo recomendar:
</p>

<ul class="org-ul">
<li><a href="https://www.youtube.com/playlist?list=PLxj9UAX4Em-IiOfvF2Qs742LxEK4owSkr"><b>.Emacs Tutorials</b></a> de <i>jekor</i>, explican todo lo necesario para aprender
Emacs en 10 videotutoriales que pueden seguirse progresivamente.</li>
<li><a href="https://www.youtube.com/playlist?list=PL8tzorAO7s0he-pp7Y_JDl7-Kz2Qlr_Pj"><b>Emacs Meetups</b></a> de Thoughtbot, que profundizan sobre temas concretos de
uso de Emacs.</li>
<li><a href="http://emacsrocks.com/"><b>Emacs Rocks</b></a>, vídeos breves sobre casos
concretos de uso de Emacs.</li>
<li><a href="https://www.emacswiki.org/emacs/SiteMap"><b>Emacs wiki</b></a>, una wiki
que documenta todo lo relacionado con Emacs.</li>
<li><a href="http://sachachua.com/blog/category/geek/emacs/"><b>sachachua.com</b></a>,
donde se hace referencia periódicamente a noticias de Emacs, y tiene
escritas hojas de referencia de atajos de teclado de Emacs.</li>
<li><a href="http://cestlaz.github.io/stories/emacs/"><b>C'est la z</b></a>, otro blog
en el que se tratan temas relacionados con Emacs.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/"><b>GNU Emacs</b></a>, la
documentación oficial de Emacs.</li>
<li><a href="https://elbauldelprogramador.com/chuleta-atajos-teclado-emacs/"><b>El baúl del programador</b></a>, que ha empeazado una recopilación colaborativa de
los comandos y paquetes más útiles para Emacs.</li>
</ul>

<div class="HTML">
<p>
&lt;!--more--&gt;
</p>

</div>
</div>

<div id="outline-container-orga5eebf2" class="outline-3">
<h3 id="orga5eebf2">Instalación</h3>
<div class="outline-text-3" id="text-orga5eebf2">
<p>
Emacs puede encontrarse en la mayoría de gestores de paquetes, pero
puede no estar en su versión más actualizada.
</p>

<pre class="example">
sudo apt install emacs
</pre>

<p>
Para escribir este artículo estoy usando <code>GNU Emacs 25.1</code>, pero la
última versión estable es la <b>24.5</b>. La versión estable actual puede
descargarse desde <a href="https://www.gnu.org/software/emacs/">GNU</a>.
</p>
</div>
</div>
</div>

<div id="outline-container-org5390fe4" class="outline-2">
<h2 id="org5390fe4">Atajos de teclado</h2>
<div class="outline-text-2" id="text-org5390fe4">
<p>
En Emacs se usa una <a href="https://www.emacswiki.org/emacs/EmacsKeyNotation">notación específica</a> para escribir un atajos de teclado. 
La mayoría de
documentación que consultes usará <code>C-x</code> en lugar de <code>Control+x</code>; usará
<code>C-x C-s</code> para indicar que debes dejar pulsado <code>Control</code> mientras pulsas
<code>x</code> y <code>s</code>; y por último, usará <code>M-x</code>, donde la <code>M</code> se referirá a la
tecla <code>Meta</code>. La tecla <code>Meta</code> en Emacs se refiere normalmente a dos
opciones equivalentes, o bien pulsar <code>alt izq.</code> mientras se pulsa <code>x</code>, o
pulsar <code>Esc</code> y luego pulsar <code>x</code>. En resumen:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Atajo</th>
<th scope="col" class="org-left">Descripción</th>
<th scope="col" class="org-left">Comando</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-n</td>
<td class="org-left">Mantener control pulsado mientras se pulsa n</td>
<td class="org-left">Next line</td>
</tr>

<tr>
<td class="org-left">C-x C-s</td>
<td class="org-left">Mantener control pulsado pulsando x y luego s</td>
<td class="org-left">Save file</td>
</tr>

<tr>
<td class="org-left">M-x</td>
<td class="org-left">Mantener alt o pulsar esc para luego pulsar x</td>
<td class="org-left">Execute Command</td>
</tr>

<tr>
<td class="org-left">RET</td>
<td class="org-left">Salto de línea, pulsar enter antes de seguir</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
Usar atajos de teclado facilita mucho usar Emacs rápidamente después del
tiempo de aprendizaje.  [1]
</p>

<p>
Cuando abras el programa por primera vez, te ofrecerá seguir un tutorial
de Emacs escrito en Emacs. El tutorial es muy útil para aprender a
moverse dentro de Emacs, pero la mayoría de lo que cuenta no es
especialmente fácil de aprender de una sola vez. Lo más chocante para un
usuario nuevo puede ser el sistema de copiar-pegar; que de forma muy
simplificada se resume en:  [2]
</p>

<ul class="org-ul">
<li><code>M-w</code> copia.</li>
<li><code>C-w</code> corta.</li>
<li><code>C-y</code> pega.</li>
</ul>

<p>
Pero si no te convence, puedes usar <a href="https://www.emacswiki.org/emacs/CuaMode">CUA Mode</a>, que te permite
volver a usar <code>C-c</code> y <code>C-v</code> para copiar y pegar. Otros comandos útiles
de aprender antes de empezar con nada más son <code>C-x C-s</code> para guardar y
<code>C-x C-f</code> para abrir un archivo.
</p>
</div>

<div id="outline-container-orgc715fcb" class="outline-3">
<h3 id="orgc715fcb">Documentación</h3>
<div class="outline-text-3" id="text-orgc715fcb">
<p>
Emacs es un editor autodocumentado, es decir, la documentación del
editor puede consultarse dentro del propio programa. Para llamar a la
ayuda se puede pulsar <code>C-h ?</code>, que nos dejará elegir si necesitamos
ayuda sobre comandos, atajos de teclados, variables, licencias, etc.
Especialmente útiles son:
</p>

<ul class="org-ul">
<li><code>C-h c &lt;atajo de teclado&gt;</code> nos da el nombre de la función que se
ejecuta al pulsar esas teclas.</li>
<li><code>C-h f &lt;nombre de función&gt;</code> documenta la función.</li>
</ul>
</div>
</div>

<div id="outline-container-org7495cee" class="outline-3">
<h3 id="org7495cee">Buffers y ventanas</h3>
<div class="outline-text-3" id="text-org7495cee">
<p>
Cada vez que abrimos un archivo, o pedimos un apartado de documentación,
o abrimos la configuración, se abre un nuevo buffer. Un
<a href="https://www.emacswiki.org/emacs/Buffer">buffer</a> es el equivalente a un documento o un espacio de trabajo en otros 
editores. Podemos movernos
entre los buffers actualmente abiertos pulsando <code>C-x &lt;left&gt;</code> o
<code>C-x &lt;right&gt;</code>; y podemos mostrar la lista de buffers actualmente
abiertos con <code>C-x C-b</code> (¡en un nuevo buffer!).
</p>

<p>
Además de los buffers que tengamos actualmente abiertos, tenemos
ventanas que los muestran. Podemos partir la pantalla de Emacs en varias
ventanas con <code>C-x 2</code> y <code>C-x 3</code>, que la parten horizontal y verticalmente
respectivamente. Para volver a quedarnos sólo con la ventana en la que
está el cursor, podemos pulsar <code>C-x 1</code>; y para cambiar de ventana sobre
la que actúa el cursor podemos usar <code>C-x o</code>.
</p>
</div>
</div>

<div id="outline-container-org2dda46f" class="outline-3">
<h3 id="org2dda46f">Modos de Emacs</h3>
<div class="outline-text-3" id="text-org2dda46f">
<p>
El comportamiento de Emacs sobre cada buffer que abra será distinto
dependiendo normalmente de la extensión del archivo. Esto le permite
colorear de manera distinta distintas sintaxis, o tener comportamientos
específicos (indentación, atajos de teclado, formateo) cuando está
editando cada lenguaje.
</p>

<p>
Cada una de estas formas de edición se llama <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Major-Modes.html"><b>modo</b></a>,
y el <b>modo</b> actual aparece resaltado entre paréntesis en la barra
inferior de Emacs. El modo básico es <code>Fundamental</code>, pero para cada
propósito existen modos específicos. Para casi todos los lenguajes de
programación tendremos un modo. Existen, por ejemplo,
<a href="https://www.emacswiki.org/emacs/RubyMode"><code>Ruby-mode</code></a>, <a href="https://www.emacswiki.org/emacs?action=browse;oldid=PythonMode;id=PythonProgrammingInEmacs#toc2"><code>Python-mode</code></a> o <a href="https://www.emacswiki.org/emacs/CcMode"><code>CC-mode</code></a>.
</p>

<p>
Además de los <i>modos mayores</i> de los que hemos hablado hasta ahora,
existen <i>modos menores</i> que son opcionales y complementan a los modos
mayores. Por ejemplo, mientras escribo este artículo estoy usando
<a href="https://www.emacswiki.org/emacs/MarkdownMode"><code>Markdown</code></a> como modo mayor y <code>ARev</code> (<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Reverting.html">Auto-revert mode</a>) como modo menor.
</p>
</div>
</div>
</div>

<div id="outline-container-org1433864" class="outline-2">
<h2 id="org1433864">Personalización</h2>
<div class="outline-text-2" id="text-org1433864">
<p>
Prácticamente todos los parámetros que uses en Emacs pueden ser
ajustados a tu necesidad. Desde los atajos de teclado hasta el tema de
color y fuentes que usa el editor.
</p>

<p>
La forma más básica de editar todas estas configuraciones es
<code>M-x customize group</code>, que accede a un menú en el que se pueden
modificar todas ellas. Todos los cambios que aquí se hagan se guardarán
en un archivo <code>.emacs</code> (o <code>init.el</code>, en las versiones nuevas de Emacs).
Este archivo es la otra forma de configurar Emacs; el archivo de inicio
<code>.emacs</code> contiene código en Elisp que se ejecutará al iniciar el editor
y podemos incluir allí todo lo que queramos configurar. Algunos
paquetes, por ejemplo, necesitarán configuración adicional que habrá que
incluir en este archivo.
</p>

<p>
<a href="https://youtu.be/mMcc0IF1hV0"><b>.Emacs #2 - Customizations and themes</b> - <i>jekor</i></a>
</p>
</div>
</div>

<div id="outline-container-org4618022" class="outline-2">
<h2 id="sistemas-de-paquetes"><a id="org4618022"></a>Sistemas de paquetes</h2>
<div class="outline-text-2" id="text-sistemas-de-paquetes">
</div>

<div id="outline-container-orgfac42f8" class="outline-3">
<h3 id="melpa"><a id="orgfac42f8"></a>Melpa</h3>
<div class="outline-text-3" id="text-melpa">
<p>
Es conveniente añadir un repositorio más grande que el que trae GNU por
defecto, y <a href="https://melpa.org/#/">MELPA</a> es uno de los repositorios de
paquetes de Emacs más grandes y actualizados. El repositorio de MELPA se
añade desde <code>M-x customize-group RET package</code>. Dentro de la pestaña de
repositorios puede insertarse la dirección de MELPA:
</p>

<pre class="example">
Archive name: melpa-stable
URL or directory name: https://stable.melpa.org/packages/
</pre>

<p>
Para salir de cualquiera de las pantallas de personalización se usa <code>q</code>.
</p>

<p>
Otra forma de conseguir este mismo efecto es añadirlo directamente a
nuestro archivo de configuración (<code>.emacs=/=init.el</code>), como se indica en
las <a href="https://melpa.org/packages/">instrucciones de instalación</a> del
repositorio.
</p>
</div>
</div>

<div id="outline-container-orgc09ed2e" class="outline-3">
<h3 id="paquetes"><a id="orgc09ed2e"></a>Paquetes</h3>
<div class="outline-text-3" id="text-paquetes">
<p>
Podemos listar los paquetes que podemos instalar usado
<code>M-x list-packages</code> y podemos buscar entre los paquetes pulsando varias
veces el comando <code>C-s</code>. Si pulsamos <code>i</code> al lado de uno de ellos se
marcará para instalar y al pulsar <code>x</code> se ejecutará la instalación de
todos los paquetes marcados.
</p>

<p>
<a href="https://youtu.be/Cf6tRBPbWKs"><b>.Emacs #3 - Installing packages and
extensions</b> - <i>jekor</i></a>
</p>
</div>
</div>
</div>

<div id="outline-container-orgcc16825" class="outline-2">
<h2 id="paquetes-útiles"><a id="orgcc16825"></a>Paquetes útiles</h2>
<div class="outline-text-2" id="text-paquetes-útiles">
</div>

<div id="outline-container-orgf12575b" class="outline-3">
<h3 id="dired"><a id="orgf12575b"></a>Dired</h3>
<div class="outline-text-3" id="text-dired">
<p>
Dired viene instalado por defecto con Emacs y permite navegar la
estructura de directorios del sistema operativo. Podemos empezar a
navegarla usando <code>M-x dired</code> y pulsando <code>RET</code> cada vez que queramos
abrir un archivo o una carpeta.
</p>

<p>
Podemos además afectar a los archivos. Por ejemplo, si queremos eliminar
algunos archivos, podemos marcarlos con <code>d</code> y eliminarlos
definitivamente con <code>x</code>.
</p>

<p>
<a href="https://youtu.be/7jZdul2fC94"><b>.Emacs #4 - Exploring the filesystem</b> -
<i>jekor</i></a>
</p>
</div>
</div>

<div id="outline-container-org16838fd" class="outline-3">
<h3 id="org-mode"><a id="org16838fd"></a>org-mode</h3>
<div class="outline-text-3" id="text-org-mode">
<p>
<b>org-mode</b> es un modo de Emacs que se creó originalmente para gestionar
listas de tareas, agendas y calendarios; pero además, contiene en su
interior un completo lenguaje de marcado. Permite exportar documentos a
una gran variedad de formatos (pdf, html, latex o markdown) e incluir
internamente trozos de código y ejecutarlos. Además, tiene un sistema de
tablas en texto plano capaz de sustituir la hoja de cálculo para tareas
sencillas. Por todo esto, puede ser usado en tareas como la ciencia
reproducible o la programación literaria cuando Latex es demasiado
complejo, ayudando además a manejar la bibliografía y los enlaces tanto
externos como entre archivos.
</p>

<p>
<a href="https://youtu.be/SzA2YODtgK4"><b>Getting started with org-mode</b> - <i>Harry Schwartz</i></a>
</p>

<p>
Especialmente útil para matemáticas es la
<a href="http://orgmode.org/worg/org-tutorials/org-latex-preview.html">previsualización de Latex</a> y el poder incluir los paquetes de la
<a href="ftp://ftp.ams.org/pub/tex/doc/amsmath/amsldoc.pdf">AMS</a> para marcar teoremas o definiciones.
</p>

<p>
<img src="https://github.com/libreim/blog/raw/post-emacs/images/org-math.png" alt="org-math.png" />
<i>Apuntes de matemáticas en org-mode</i>
</p>
</div>
</div>

<div id="outline-container-org9e651e4" class="outline-3">
<h3 id="magit"><a id="org9e651e4"></a>magit</h3>
<div class="outline-text-3" id="text-magit">
<p>
<b>magit</b> permite integrar Emacs con <b>git</b> fácilmente para incluir los
commits desde dentro del mismo editor. Usando <code>magit-status</code> llegamos a
una pantalla en la que podemos elegir qué ficheros añadir al commit con
<code>s</code>  [3] y visualizar las diferencias con el commit anterior usando
<code>tab</code>; ejecutar el commit con <code>c c</code>, que nos mostrará el buffer con el
mensaje de commit y por último usar <code>C-c C-c</code> para enviarlo. El push y
pull los haremos desde <code>magit-status</code> con <code>P u</code> y <code>F u</code>,
respectivamente.
</p>

<p>
Es útil asignar un atajo de teclado al comando <code>magit-status</code>, que es el
que muestra la ventana desde la que controlamos el añadir y hacer commit
de ficheros. Por ejemplo, podemos fijarlo en <code>f5</code> añadiendo a nuestro
archivo de configuración:
</p>

<div class="org-src-container">
<pre class="src src-lisp">(global-set-key (kbd "&lt;f5&gt;") 'magit-status)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org58bde0f" class="outline-2">
<h2 id="macros-de-teclado"><a id="org58bde0f"></a>Macros de teclado</h2>
<div class="outline-text-2" id="text-macros-de-teclado">
<p>
Las macros de teclado nos dejan grabar una secuencia de acciones y
volver a repetirla tantas veces como sea necesaria. Se puede empezar a
grabar con <code>f3</code> y terminar la grabación y repetirla tantas veces como
sea necesario con <code>f4</code>.
</p>

<p>
<a href="https://youtu.be/JfZ9fCHzkJw"><b>.Emacs #9 - Keyboard macros</b> -
<i>jekor</i></a>
</p>
</div>
</div>

<div id="outline-container-org55deffe" class="outline-2">
<h2 id="elisp"><a id="org55deffe"></a>Elisp</h2>
<div class="outline-text-2" id="text-elisp">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/">Emacs Lisp</a>, o Elisp, es un lenguaje de programación diseñado específicamente
para escribir un editor de texto. Facilita el tratamiento de texto y el
manejo de archivos y buffers.
</p>

<p>
Podemos escribir scripts en Elisp que se encarguen de tareas repetitivas
en nuestro editor de texto y asignarlas a atajos de teclado o ampliarlo
con más funcionalidad. Un tutorial básico sobre Elisp es
<a href="http://emacs-doctor.com/learn-emacs-lisp-in-15-minutes.html">Learn Emacs Lisp in 15 minutes</a>.
</p>
</div>
</div>

<div id="outline-container-org03e5712" class="outline-2">
<h2 id="org03e5712">Notas</h2>
<div class="outline-text-2" id="text-org03e5712">
<p>
[1] Realmente solo puedo decir que a mí me funciona y que en general los
    atajos de teclado parecen ser <a href="http://ux.stackexchange.com/a/30749">mejores que usar el ratón</a>.
</p>

<p>
[2] El <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Killing.html#Killing">sistema</a> que Emacs usa para esto es bastante más sofisticado.
</p>

<p>
[3] De hecho, podemos seleccionar qué párrafos dentro de un fichero
    queremos añadir al commit.
</p>
</div>
</div>

</div>
</div>
    <div>
      <div class="post-meta">
        <span title="post date" class="post-info">2016-09-19</span>
        <span title="last modification date" class="post-info">2016-12-04</span>
        <span title="tags" class="post-info"><a href="/tags/emacs/">emacs</a></span>
        <span title="author" class="post-info">Mario Román</span>
      </div>
      <script src="//code.jquery.com/jquery-latest.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.js"></script>
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="/media/js/main.js"></script>
      <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.x (<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
          Copyright &copy; 2012 - <span id="footerYear"></span> <a href="mailto:mromang08 &lt;at&gt; gmail &lt;dot&gt; com">Mario Román</a>
          &nbsp;&nbsp;-&nbsp;&nbsp;
          Powered by <a href="https://github.com/kelvinh/org-page" target="_blank">org-page</a>
          <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
      </div>
    </div>

  </body>
</html>
